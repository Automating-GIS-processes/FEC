

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Exercise 4: Species data to raster &mdash; GeoPython -AutoGIS/FEC 2017 Spring documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GeoPython -AutoGIS/FEC 2017 Spring documentation" href="index.html"/>
        <link rel="next" title="ArcGIS Toolbox" href="Day3-toolbox.html"/>
        <link rel="prev" title="ArcPy-module" href="Day3-arcpy.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GeoPython -AutoGIS/FEC
          

          
            
            <img src="_static/logo_hy_geo_135.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Basics of Python 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Day1-Intro.html">Introduction to the course</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Getting-started-with-python.html">Getting started with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-working-environment.html">Working environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Data-types.html">Basic data types in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-string-operations.html">String-operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Strings-mini-exercise.html">Task: Hello world!</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-writing-scripts.html">Script Files (*.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-intro-to-GitHub.html">Version Control and GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-create-GitHub-account.html">Task: Create a GitHub-account</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Exercise1.html">Exercise 1: Lists</a></li>
</ul>
<p class="caption"><span class="caption-text">Basics of Python 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Day2-conditional-statements.html">Conditional statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-for-loops.html">for-loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-for-loops-mini-exercise.html">Task: generate numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-Exercise2.html">Exercise 2: For-loops and conditional statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-modules.html">Loading and using Python modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-Exercise3-Functions.html">Exercise 3: Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-useful-functions.html">Useful functions related to filepaths</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-reading-files.html">Reading and writing text files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-mini-exercise-writingFiles.html">Task: write results to text file</a></li>
</ul>
<p class="caption"><span class="caption-text">Automating ArcGIS-processes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy-overview.html">Automating ArcGIS-processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-ArcGIS-modelBuilder.html">Model Builder tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy.html">ArcPy-module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Exercise 4: Species data to raster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#download-data">Download data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#github-repo">GitHub-repo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#species-data-tool-version-1">Species data tool: Version 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#species-data-tool-version-2">Species data tool: Version 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Day3-toolbox.html">ArcGIS Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy-toolbox-version1.html">Species tool: Version 1 (toolbox)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy-script-version1.html">Species tool: Version 1 (script)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-run-the-tool.html">Running the Python script from ArcGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcpy-version3.html">Species tool: Version 2</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GeoPython -AutoGIS/FEC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Exercise 4: Species data to raster</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Day3-Exercise4-ArcPy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="exercise-4-species-data-to-raster">
<h1>Exercise 4: Species data to raster<a class="headerlink" href="#exercise-4-species-data-to-raster" title="Permalink to this headline">¶</a></h1>
<div class="section" id="download-data">
<h2>Download data<a class="headerlink" href="#download-data" title="Permalink to this headline">¶</a></h2>
<p>If you haven&#8217;t yet done so, download the source data for the arcpy-exercise
<a class="reference external" href="https://github.com/Automating-GIS-processes/FEC/raw/master/data/DAMSELFISH.zip">from this link</a></p>
</div>
<div class="section" id="github-repo">
<h2>GitHub-repo<a class="headerlink" href="#github-repo" title="Permalink to this headline">¶</a></h2>
<p>If you wish, you can document your work into GitHub: <a class="reference external" href="https://classroom.github.com/assignment-invitations/fb2e4efbfb71aebeff6f87662771bec6">FEC2017-Exercise4-arcpy</a></p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The goal of this exercise is to develop a tool for separating the source data (one shapefile containing species distributions of several different subspecies)
into separate rasters for each species.</p>
<p>As an output of this exercise we will create two ArcPy-scripts:</p>
<ul class="simple">
<li><strong>Version 1:</strong> Arcpy_1_SimplePoly2Raster.py</li>
<li><strong>Version 2:</strong> Arcpy_2_SpeciesPoly2Raster_Iterate.py</li>
</ul>
<p>We will write the scripts together in the class, but if you wish you can also proceed at your own pace by following the
instructions in the upcoming sections. Feel free to document your codes into GitHub.</p>
</div>
<div class="section" id="species-data-tool-version-1">
<h2>Species data tool: Version 1<a class="headerlink" href="#species-data-tool-version-1" title="Permalink to this headline">¶</a></h2>
<p>Create a ArcGIS toolbox that converts a Shapefile into a Raster Dataset.
Toolbox asks three parameters from the user: <strong>input shapefile</strong>, <strong>output rasterdataset</strong>, and <strong>value field</strong> (raster_value).
Toolbox executes a python script called <code class="docutils literal"><span class="pre">Arcpy_1_SimplePoly2Raster.py</span></code> that contains all the required functionalities of the tool.</p>
<div class="figure">
<img alt="_images/Arcpy_version1_interface.png" src="_images/Arcpy_version1_interface.png" />
</div>
<p><strong>Required steps in the script-file for Version 1:</strong></p>
<ul class="simple">
<li>Import the required module (arcpy)</li>
<li>Get parameters from the toolbox using <code class="docutils literal"><span class="pre">GetParametersAsText</span></code> function</li>
<li>Convert input shapefile into a Raster Dataset using <a class="reference external" href="http://pro.arcgis.com/en/pro-app/tool-reference/conversion/polygon-to-raster.htm">PolygonToRaster_conversion</a> -function</li>
<li>Print info for the user that tool has finished successfully using <code class="docutils literal"><span class="pre">AddMessage</span></code> function</li>
</ul>
</div>
<div class="section" id="species-data-tool-version-2">
<h2>Species data tool: Version 2<a class="headerlink" href="#species-data-tool-version-2" title="Permalink to this headline">¶</a></h2>
<p>Create a ArcGIS toolbox that converts individual species in a Shapefile into Raster Datasets based on species information on attribute field <cite>binomial</cite>.
Tool asks five parameters: <strong>input shapefile</strong>, <strong>output folder</strong>, <strong>species_attribute</strong>, <strong>attribute_name_for_raster_value</strong>, <strong>raster_value</strong>.
Tool will print useful information for the user about the execution process.
Toolbox executes a python script called <em>Arcpy_2_SpeciesPoly2Raster_Iterate.py</em> that contains all the required functionality of the tool.</p>
<div class="figure">
<img alt="_images/Arcpy_version3_interface.png" src="_images/Arcpy_version3_interface.png" />
</div>
<p><strong>Required steps in the script-file for Version 2:</strong></p>
<ul class="simple">
<li>Import the required module (arcpy)</li>
<li>Get parameters from the toolbox using <code class="docutils literal"><span class="pre">GetParametersAsText</span></code> function</li>
<li>Add a new field into the Shapefile with <code class="docutils literal"><span class="pre">AddField_management</span></code> function</li>
<li>Update the value for the attribute with <code class="docutils literal"><span class="pre">CalculateField_management</span></code> function</li>
<li>Determine a list of unique species in the Shapefile using <code class="docutils literal"><span class="pre">SearchCursor</span></code> function</li>
<li>Create a Feature Layer from the shapefile using <code class="docutils literal"><span class="pre">MakeFeatureLayer_management</span></code> function</li>
<li>Select individual species from the Shapefile using <code class="docutils literal"><span class="pre">SelectLayerByAttribute_management</span></code> function</li>
<li>Convert individual species in the Shapefile into Raster Datasets using <code class="docutils literal"><span class="pre">PolygonToRaster_conversion</span></code> function</li>
<li>Print info for the user that tool has finished successfully using <code class="docutils literal"><span class="pre">AddMessage</span></code> function</li>
</ul>
<p>We will start with the simple version 1 in order to illustrate the basic elements of an arcpy-script and how it interacts with a toolbox.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Day3-toolbox.html" class="btn btn-neutral float-right" title="ArcGIS Toolbox" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Day3-arcpy.html" class="btn btn-neutral" title="ArcPy-module" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Digital Geography Lab / University of Helsinki.
      Last updated on Mar 07, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2017 Spring',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>