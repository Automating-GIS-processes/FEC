

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Useful functions related to filepaths &mdash; GeoPython -AutoGIS/FEC 2017 Spring documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GeoPython -AutoGIS/FEC 2017 Spring documentation" href="index.html"/>
        <link rel="next" title="Task: write results to text file" href="Day2-mini-exercise-writingFiles.html"/>
        <link rel="prev" title="Reading and writing text files" href="Day2-reading-files.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GeoPython -AutoGIS/FEC
          

          
            
            <img src="_static/logo_hy_geo_135.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Basics of Python 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Day1-Intro.html">Introduction to the course</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Getting-started-with-python.html">Getting started with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-working-environment.html">Working environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Data-types.html">Basic data types in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-string-operations.html">String-operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Strings-mini-exercise.html">Task: Hello world!</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-writing-scripts.html">Script Files (*.py)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-intro-to-GitHub.html">Version Control and GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-create-GitHub-account.html">Task: Create a GitHub-account</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day1-Exercise1.html">Exercise 1: Lists</a></li>
</ul>
<p class="caption"><span class="caption-text">Basics of Python 2</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Day2-conditional-statements.html">Conditional statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-for-loops.html">for-loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-for-loops-mini-exercise.html">Task: generate numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-Exercise2.html">Exercise 2: For-loops and conditional statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-modules.html">Loading and using Python modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-Exercise3-Functions.html">Exercise 3: Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day2-reading-files.html">Reading and writing text files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Useful functions related to filepaths</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#copying-selected-lines-of-multiple-files-into-a-new-location">Copying selected lines of (multiple) files into a new location</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Day2-mini-exercise-writingFiles.html">Task: write results to text file</a></li>
</ul>
<p class="caption"><span class="caption-text">Automating ArcGIS-processes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy-overview.html">Automating ArcGIS-processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-ArcGIS-modelBuilder.html">Model Builder tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy.html">ArcPy-module</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-Exercise4-ArcPy.html">Final Exercise: ArcPy-script for processing species data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-toolbox.html">ArcGIS Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-arcpy-script.html">Writing arcpy scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Day3-run-the-tool.html">Running the Python script from ArcGIS</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GeoPython -AutoGIS/FEC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Useful functions related to filepaths</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Day3-useful-functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="useful-functions-related-to-filepaths">
<h1>Useful functions related to filepaths<a class="headerlink" href="#useful-functions-related-to-filepaths" title="Permalink to this headline">¶</a></h1>
<p>When dealing with file paths in Python there are several useful
functions available in a sub-module called
<a class="reference external" href="https://docs.python.org/3/library/os.path.html">os.path</a>.</p>
<p>For instance when creating output filepaths it is common that you have a
common folder where all the output files will be created. In such cases,
you need to combine the path to the folder and the output filename for
each output file that you produce, os-module can help with such an
operation.</p>
<ol class="arabic simple">
<li>It is possible to parse the filename of a file (without folder
information):</li>
</ol>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="s2">&quot;C:\HY-Data\VUOKKHEI\documents\CODES\AutoGIS</span><span class="se">\t</span><span class="s2">est.txt&quot;</span><span class="p">)</span> <span class="c1"># change filepath to your own folder!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>One typical example that you might need to do sometime is to copy a
part of file into a new file in another folder. Let&#8217;s create a new
folder called <strong>*Results*</strong> to the home -folder of our computer
instance using specific command called <code class="docutils literal"><span class="pre">os.makedirs()</span></code> but ONLY if
it does not exist already (we can take advantage of
<code class="docutils literal"><span class="pre">os.path.exists()</span></code> -function):</li>
</ol>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">result_dir</span> <span class="o">=</span> <span class="s2">&quot;C:\HY-Data\VUOKKHEI\documents\CODES\AutoGIS\Exercise1&quot;</span>

<span class="c1"># Check if folder does NOT exist</span>
<span class="n">f</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">result_dir</span><span class="p">):</span>

<span class="c1"># If folder didn&#39;t exist create one</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">result_dir</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have a new folder in the specified location</p>
<ol class="arabic simple" start="3">
<li>Now we can combine the filename (test.txt) and our new folder using
<code class="docutils literal"><span class="pre">os.path.join()</span></code> -function:</li>
</ol>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Filename:</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">newfile</span><span class="o">.</span><span class="n">txt</span>

<span class="c1">#Create a filepath for the new file:</span>

<span class="n">output_file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">result_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">output_file_path</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="copying-selected-lines-of-multiple-files-into-a-new-location">
<h2>Copying selected lines of (multiple) files into a new location<a class="headerlink" href="#copying-selected-lines-of-multiple-files-into-a-new-location" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Let&#8217;s take our previous exercise (reading multiple files) as a
starting point and copy the first line of each inflammation csv-file
and save them into new files using the same filenames but located
into our new Results folder. We will use <code class="docutils literal"><span class="pre">os.path.basename()</span></code>
-function to find out the filename of the input files and
<code class="docutils literal"><span class="pre">os.path.join()</span></code> -function to create the new output filepaths that
will be saved into the new Results folder:</li>
</ol>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Open the source file in read mode</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c1"># Parse the output file name, combine the result_dir folder-path and the filename of the input file</span>
    <span class="n">output_fp</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">result_dir</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>

    <span class="c1"># Open and create the output file in write mode</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_fp</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">w</span><span class="p">:</span>

       <span class="c1"># Read the first line of the source file</span>
       <span class="n">first_line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

       <span class="c1"># Write it to the output file</span>
       <span class="n">w</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">first_line</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Footnotes</strong></p>
<ul class="simple">
<li>[0]: When reading / writing in Python, it is best to use the <code class="docutils literal"><span class="pre">with</span></code>
-statement as it takes care of closing your file after you have
read/written something into your file. <em>Closing</em> the file takes care
of saving the data into that file. If the file is not closed after
writing something into it, the contents won&#8217;t be saved into that
file. It is similar idea than when thinking of writing something into
a Word template document but without saving it anywhere. You can find
more info about how to write data without <code class="docutils literal"><span class="pre">with</span></code> -statement, and
how to close files from
<strong>`here &lt;https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files&gt;`__</strong>.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Day2-mini-exercise-writingFiles.html" class="btn btn-neutral float-right" title="Task: write results to text file" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Day2-reading-files.html" class="btn btn-neutral" title="Reading and writing text files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Digital Geography Lab / University of Helsinki.
      Last updated on Mar 07, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2017 Spring',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>